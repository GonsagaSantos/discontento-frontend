<div class="carrossel">
    <div class="group">
        @for(produto of produtosCarrossel; track produto.idProduto) {
            @if(produto.urlImagem == '') {
                <img class="carrossel-image" [src]="produto.cover_path" (click)="redirectToProductPage(produto)">
            } @else {
                <img class="carrossel-image" [src]="produto.urlImagem" (click)="redirectToProductPage(produto)">
            }
        }

        @for(produto of produtosCarrossel; track produto.idProduto) {
            @if(produto.urlImagem == '') {
                <img class="carrossel-image" [src]="produto.cover_path" (click)="redirectToProductPage(produto)">
            } @else {
                <img class="carrossel-image" [src]="produto.urlImagem" (click)="redirectToProductPage(produto)">
            }
        }
    </div>
</div>


<div class="container">
    <div class="faixa">
        <p><a [routerLink]="['cadastro']" class="link-cadastro"><i class="bi bi-plus-circle-fill"></i></a></p>
    </div>
    
    <div class="title">
        <h1>Discos em destaque:</h1>
        <a href="/catalogo" class="link-catalogo">Todos os discos</a>
    </div>
    
    
    <div class="catalogo-main">
        
        
        <div class="vitrine">
            <div class="produtos-container">
                @for(produto of produtos; track produto.idProduto) {
                    <div class="produto" (click)="redirectToProductPage(produto)">
                        
                        <div class="info-produto">
                            @if (produto.quantidade == 0) {
                                <div class="cover-container">
                                    <div class="faixa-esgotado">
                                        <p>Esgotado :(</p>
                                    </div>
                                    @if(produto.urlImagem == '') {
                                        <img class="carrossel-image" [src]="produto.cover_path" (click)="redirectToProductPage(produto)">
                                    } @else {
                                        <img class="carrossel-image" [src]="produto.urlImagem" (click)="redirectToProductPage(produto)">
                                    }
                                </div>
                                <p class="preco-produto">R$ {{produto.valor}}</p>
                                <h2 class="nome-produto">{{produto.nome}}</h2>
                            } @else {
                                @if(produto.urlImagem == '') {
                                    <img class="carrossel-image" [src]="produto.cover_path" (click)="redirectToProductPage(produto)">
                                } @else {
                                    <img class="carrossel-image" [src]="produto.urlImagem" (click)="redirectToProductPage(produto)">
                                }
                                <p class="preco-produto">R$ {{produto.valor}}</p>
                                <h2 class="nome-produto">{{produto.nome}}</h2>
                            }
    
                        </div>
    
                    </div>
                }
            </div>
        </div>

    </div>
</div>